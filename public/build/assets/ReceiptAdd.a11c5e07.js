import{u as S,r as u,j as l,a as e,H as T,L as K}from"./app.92daf56f.js";import{M as y}from"./Main.d6b38078.js";import{I as d}from"./Input.9a833f1b.js";import{B}from"./Button.837fc0e5.js";import{a as h,S as H,I}from"./ImageUpload.d40b39c8.js";import{L as t}from"./Label.9204bc4e.js";import{T as L}from"./TextArea.86f252c5.js";import"./useStateManager-68425271.esm.cdac3744.js";const M=({customers:c})=>{const p=[{label:"Printer",value:"Printer"},{label:"Cartrigde",value:"Cartridge"},{label:"Toner",value:"Toner"}],{data:i,setData:o,post:b,errors:r,processing:g}=S({receipt_number:"",customer_id:"",kelengkapan:"",kerusakan:"",description:"",category:"printer",barang:"",photo:null}),[v,U]=u.exports.useState([{label:"Kabel USB",value:"Kabel_usb"},{label:"Kabel Listrik",value:"kabel_listrik"},{label:"Kotak",value:"kotak"}]),[k,m]=u.exports.useState({image_src:"",image_data:""}),s=a=>{o(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)},f=a=>{let n=a.target.files[0];m({image_src:URL.createObjectURL(n),image_data:n}),o("photo",n)};function N(){m({image_src:"",image_data:""})}function _(a){let n=[];a.map(C=>{n.push(C.label)}),o("kelengkapan",n)}function x(a){a.preventDefault(),b(route("receipts"),{preserveScroll:!0})}return l("div",{children:[e(T,{title:"Tambah TTB Baru"}),e("div",{className:"bg-slate-300 p-4",children:e("h2",{className:"font-semibold text-slate-600",children:"BUAT TTB BARU"})}),e("form",{onSubmit:x,children:l("div",{className:"m-4",children:[l("div",{className:"flex gap-4",children:[l("div",{className:"flex-none w-1/3",children:[e(t,{children:"Nomor Kartu"}),e(d,{type:"number",name:"receipt_number",className:r.receipt_number&&"input-error",handleChange:s,value:i.receipt_number}),r.receipt_number&&e("div",{className:"invalid-feedback",children:r.receipt_number})]}),l("div",{className:"flex-1",children:[l(t,{children:["Customer - ",e(K,{href:route("customers.create"),className:"font-semibold text-blue-700 italic",replace:!0,only:["customers"],children:"Tambah"})]}),e(h,{closeMenuOnSelect:!0,option:c,onHandleChange:a=>o({...i,customer_id:a.value})}),r.customer_id&&e("div",{className:"invalid-feedback -mb-3",children:r.customer_id})]})]}),l("div",{className:"flex gap-3 my-2",children:[l("div",{className:"w-1/3",children:[e(t,{children:"Kategori"}),e(H,{name:"category",handleChange:s,children:p.map((a,n)=>e("option",{value:a.value,children:a.label},n))})]}),l("div",{className:"flex-1",children:[e(t,{children:"Nama / Tipe Barang"}),e(d,{value:i.barang,name:"barang",handleChange:s,placeHolder:"Masukkan nama / tipe barang ",className:r.barang&&"input-error"}),r.barang&&e("div",{className:"invalid-feedback",children:r.barang})]})]}),l("div",{className:"",children:[e(t,{children:"Kelengkapan"}),e(h,{option:v,isMulti:!0,onHandleChange:_})]}),l("div",{className:"my-2",children:[e(t,{children:"Kerusakan"}),e(d,{name:"kerusakan",value:i.kerusakan,handleChange:s,className:r.kerusakan&&"input-error"}),r.kerusakan&&e("div",{className:"invalid-feedback",children:r.kerusakan})]}),l("div",{children:[e(t,{children:"Keterangan"}),e(L,{handleChange:s,name:"description",value:i.description})]}),l("div",{className:"relative",children:[e(I,{handleChange:f,src:k.image_src,onclick:N}),r.photo&&e("div",{className:"invalid-feedback absolute -bottom-4",children:r.photo})]}),e("div",{className:"mt-10",children:e(B,{type:"submit",className:"btn-success btn-block shadow hover:bg-green-300",processing:g,children:"SIMPAN"})})]})})]})};M.layout=c=>e(y,{auth:c.props.auth,children:c,href:route("receipts"),menu:!1});export{M as default};
