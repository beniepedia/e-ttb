import{b as x,j as v,F as w,a as s,H as b,L as I}from"./app.f589c3f2.js";import{M}from"./Main.6517ce02.js";import{_ as g}from"./lodash.f68fe754.js";import{E as U}from"./Empty.3b7629de.js";import"./Helper.3dc4eb83.js";import{r as C,t as y,f as O,i as F}from"./index.2b454c40.js";import"./whatsapp.daf8657a.js";import"./Modal.2632ccec.js";var h=6e4,D=36e5;function S(t,e){var a;C(1,arguments);var r=y((a=e==null?void 0:e.additionalDigits)!==null&&a!==void 0?a:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=_(t),n;if(i.date){var u=$(i.date,r);n=j(u.restDateString,u.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);var m=n.getTime(),o=0,d;if(i.time&&(o=Z(i.time),isNaN(o)))return new Date(NaN);if(i.timezone){if(d=E(i.timezone),isNaN(d))return new Date(NaN)}else{var l=new Date(m+o),p=new Date(0);return p.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),p.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),p}return new Date(m+o+d)}var f={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},z=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,H=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Y=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _(t){var e={},a=t.split(f.dateTimeDelimiter),r;if(a.length>2)return e;if(/:/.test(a[0])?r=a[0]:(e.date=a[0],r=a[1],f.timeZoneDelimiter.test(e.date)&&(e.date=t.split(f.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=f.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function $(t,e){var a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(a);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,n=r[2]?parseInt(r[2]):null;return{year:n===null?i:n*100,restDateString:t.slice((r[1]||r[2]).length)}}function j(t,e){if(e===null)return new Date(NaN);var a=t.match(z);if(!a)return new Date(NaN);var r=!!a[4],i=c(a[1]),n=c(a[2])-1,u=c(a[3]),m=c(a[4]),o=c(a[5])-1;if(r)return A(e,m,o)?W(e,m,o):new Date(NaN);var d=new Date(0);return!R(e,n,u)||!L(e,i)?new Date(NaN):(d.setUTCFullYear(e,n,Math.max(i,u)),d)}function c(t){return t?parseInt(t):1}function Z(t){var e=t.match(H);if(!e)return NaN;var a=N(e[1]),r=N(e[2]),i=N(e[3]);return B(a,r,i)?a*D+r*h+i*1e3:NaN}function N(t){return t&&parseFloat(t.replace(",","."))||0}function E(t){if(t==="Z")return 0;var e=t.match(Y);if(!e)return 0;var a=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return q(r,i)?a*(r*D+i*h):NaN}function W(t,e,a){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,n=(e-1)*7+a+1-i;return r.setUTCDate(r.getUTCDate()+n),r}var k=[31,null,31,30,31,30,31,31,30,31,30,31];function T(t){return t%400===0||t%4===0&&t%100!==0}function R(t,e,a){return e>=0&&e<=11&&a>=1&&a<=(k[e]||(T(t)?29:28))}function L(t,e){return e>=1&&e<=(T(t)?366:365)}function A(t,e,a){return e>=1&&e<=53&&a>=0&&a<=6}function B(t,e,a){return t===24?e===0&&a===0:a>=0&&a<60&&e>=0&&e<60&&t>=0&&t<25}function q(t,e){return e>=0&&e<=59}const G=()=>{const{notifications:t}=x().props,e=(r,i="dd MMM")=>{let n=S(r);return O(n,i,{locale:F})},a=g.groupBy(t.all,r=>e(r.created_at));return v(w,{children:[s(b,{children:s("title",{children:"Notifikasi"})}),s("div",{className:"shadow p-4 mb-6",children:s("h2",{className:"font-semibold text-slate-600",children:"NOTIFIKASI"})}),t.all.length==0&&s(U,{}),Object.keys(a).map(r=>s("div",{className:"mb-1",children:v("div",{className:"px-4 ",children:[s("h6",{className:"font-semibold ml-1 md:text-lg",children:r}),a[r].map(i=>{let n=g.isEmpty(i.read_at)?"bg-amber-100":"bg-white";return v(I,{href:route("notification.read",i.id),data:{url:i.data.url},method:"post",className:"py-2 ",children:[s("p",{className:`shadow text-[14px] p-4 border-2 rounded-lg leading-relaxed ${n} cursor-pointer`,children:i.data.body}),s("div",{className:"text-[13px] opacity-60 ml-1 pt-1 pb-2",children:e(i.created_at,"dd MMM, HH:mm")})]})})]})}))]})};G.layout=t=>s(M,{children:t});export{G as default};
