import{P as i,W as w,M as O}from"./Main.d6b38078.js";import{r as p,j as c,a,F as v,L as P,b as j,d as k,H as z}from"./app.92daf56f.js";import{E as N,u as I,p as m,I as F,B as L}from"./index.es.34eede8d.js";import{I as S}from"./info-circle-fill.2438fb72.js";import{a as C}from"./index.5220e4e6.js";import{I as H}from"./Input.9a833f1b.js";import"./axios.40b98a77.js";var T=["color","size","title"];function M(e,s){if(e==null)return{};var l=W(e,s),r,t;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],!(s.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(l[r]=e[r]))}return l}function W(e,s){if(e==null)return{};var l={},r=Object.keys(e),t,n;for(n=0;n<r.length;n++)t=r[n],!(s.indexOf(t)>=0)&&(l[t]=e[t]);return l}var h=p.exports.forwardRef(function(e,s){var l=e.color,r=e.size,t=e.title,n=M(e,T);return c("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:l,...n,children:[t?a("title",{children:t}):null,a("path",{d:"M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),a("path",{fillRule:"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})]})});h.propTypes={color:i.string,size:i.oneOfType([i.string,i.number]),title:i.string};h.defaultProps={color:"currentColor",size:"1em",title:null};var B=h,E=["color","size","title"];function $(e,s){if(e==null)return{};var l=R(e,s),r,t;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],!(s.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(l[r]=e[r]))}return l}function R(e,s){if(e==null)return{};var l={},r=Object.keys(e),t,n;for(n=0;n<r.length;n++)t=r[n],!(s.indexOf(t)>=0)&&(l[t]=e[t]);return l}var d=p.exports.forwardRef(function(e,s){var l=e.color,r=e.size,t=e.title,n=$(e,E);return c("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:l,...n,children:[t?a("title",{children:t}):null,a("path",{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zm10.761.135a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L14.293 4H9.5a.5.5 0 0 1 0-1h4.793l-1.647-1.646a.5.5 0 0 1 0-.708z"})]})});d.propTypes={color:i.string,size:i.oneOfType([i.string,i.number]),title:i.string};d.defaultProps={color:"currentColor",size:"1em",title:null};var V=d;function g({href:e,target:s="_blank",children:l,className:r}){return a("a",{href:e,target:s,className:r,children:l})}function _({customers:e}){return a(v,{children:e.length?e.map((s,l)=>c("div",{className:"flex items-center justify-between py-2 border-t border-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700",children:[c("div",{className:"flex items-center mx-5",children:[a("img",{src:"https://placeimg.com/80/80/people",className:"w-11 rounded-full"}),c("div",{className:"ml-4 pb-1",children:[a("h2",{className:"text-lg",children:s.name}),a("p",{className:"text-xs",children:s.phone})]})]}),c("div",{className:"mr-4 flex gap-3",children:[a(g,{href:"telp:"+s.phone,children:a(V,{className:"text-2xl text-slate-600"})}),s.whatsapp&&a(g,{href:"https://wa.me/"+s.whatsapp,children:a(w,{className:"text-2xl text-green-600"})}),a(P,{href:route("customer.show",s.id),children:a(S,{className:"text-2xl text-sky-600"})})]})]},l)):a(N,{})})}const q=()=>{const{customers:e,filters:s}=j().props,[l,r]=p.exports.useState({search:s.search||""}),[t,n]=p.exports.useState(e.data),[u,f]=p.exports.useState(e.links.next),x=I(l);p.exports.useEffect(async()=>{if(x){const o=Object.keys(m(l)).length?m(l):"";k.Inertia.get(route(route().current()),o,{preserveState:!0,replace:!0,onSuccess:()=>{n(e.data),f(e.links.next)}})}},[l]);function b(o){r({[o.target.name]:o.target.value})}async function y(){if(u){const{data:o}=await C.get(u);n([...t,...o.data]),f(o.links.next)}}return c(v,{children:[a(z,{title:"Customers"}),a("div",{className:"px-4 py-4 mb-4",children:a(H,{type:"search",name:"search",value:l.search,handleChange:b,placeHolder:"Cari....",className:"input-bordered"})}),a(F,{dataLength:t.length,next:y,hasMore:!!u,loader:a("div",{className:"flex justify-center",children:a("img",{src:"/images/assets/loading.svg",width:"80"})}),children:a(_,{customers:t})}),a(L,{href:route("customers.create"),className:"dark:bg-blue-800 border-none shadow-xl bg-blue-600 hover:bg-blue-800",icon:a(B,{className:"text-xl"})})]})};q.layout=e=>a(O,{auth:e.props.auth,errors:e.props.errors,children:e});export{q as default};
