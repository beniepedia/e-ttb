import{A as b,M as y}from"./Main.b987700b.js";import{r as i,j as u,a as t,F as g,L as w,b as k,d as N,H as P}from"./app.0ee22de5.js";import{E as j,u as z,p as f,I as O,B as M}from"./index.es.0bdcd8f2.js";import{a as I}from"./index.fefb1b11.js";import{I as L}from"./Input.83f0f48a.js";import{P as c}from"./Alert.79ff44e9.js";import"./axios.cd6af229.js";var H=["color","size","title"];function S(e,a){if(e==null)return{};var r=B(e,a),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function B(e,a){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(a.indexOf(s)>=0)&&(r[s]=e[s]);return r}var d=i.exports.forwardRef(function(e,a){var r=e.color,n=e.size,s=e.title,o=S(e,H);return u("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:r,...o,children:[s?t("title",{children:s}):null,t("path",{d:"M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),t("path",{fillRule:"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})]})});d.propTypes={color:c.string,size:c.oneOfType([c.string,c.number]),title:c.string};d.defaultProps={color:"currentColor",size:"1em",title:null};var C=d;function E({customers:e}){return t(g,{children:e.length?e.map((a,r)=>u("div",{className:"flex items-center justify-between py-2 border-t border-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 px-5",children:[u("div",{className:"flex items-center",children:[t(b,{name:a.name,size:"50",className:"rounded-full"}),u("div",{className:"ml-4 pb-1",children:[t("h2",{className:"text-lg",children:a.name}),t("p",{className:"text-xs",children:a.phone})]})]}),t("div",{className:"flex-none",children:t(w,{href:route("customer.show",a.id),className:"btn btn-circle btn-ghost",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-5 h-5 stroke-current",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})})})]},r)):t(j,{})})}const F=()=>{const{customers:e,filters:a}=k().props,[r,n]=i.exports.useState({search:a.search||""}),s=z(r),[o,p]=i.exports.useState(""),[h,m]=i.exports.useState([]);i.exports.useEffect(()=>{m(e.data),p(e.links.next)},[e]),i.exports.useEffect(()=>{if(s){const l=Object.keys(f(r)).length?f(r):"";N.Inertia.get(route(route().current()),l,{preserveState:!0,replace:!0})}},[r]);function v(l){n({[l.target.name]:l.target.value})}async function x(){if(o){const{data:l}=await I.get(o);m([...h,...l.data]),p(l.links.next)}}return u(g,{children:[t(P,{title:"Customers"}),t("div",{className:"px-4 py-4 mb-4 ",children:t(L,{type:"search",name:"search",value:r.search,handleChange:v,placeHolder:"Cari....",className:""})}),t(O,{dataLength:h.length,next:x,hasMore:!!o,loader:t("div",{className:"flex justify-center",children:t("img",{src:"/images/assets/loading.svg",width:"80"})}),children:t(E,{customers:h})}),t(M,{href:route("customers.create"),className:"dark:bg-blue-800 border-none shadow-xl bg-blue-600 hover:bg-blue-800",icon:t(C,{className:"text-xl"})})]})};F.layout=e=>t(y,{auth:e.props.auth,errors:e.props.errors,children:e});export{F as default};
