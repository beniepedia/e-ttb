import{u as C,r as c,j as r,F as g,a as e,H as x}from"./app.e7c842fd.js";import{M as y}from"./Main.5ce976db.js";import{I as p}from"./Input.30856a5f.js";import{L as o}from"./Label.c243c75e.js";import{T as k}from"./TextArea.d7831a95.js";import{B as A}from"./Button.ce74a2bd.js";import{C as H}from"./Checkbox.9610c932.js";import{p as h}from"./Helper.0604d68f.js";import"./index.173378b6.js";import"./Modal.69a65b6e.js";const S=()=>{const{data:s,setData:l,post:i,processing:u,errors:t,reset:f,clearErrors:N}=C({name:"",phone:"",whatsapp:"",address:""}),[m,v]=c.exports.useState(!1),n=a=>{l(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)},b=a=>{a.preventDefault(),i(route("customers.store"),{onSuccess:()=>{d()}})},d=()=>{N(),f()};c.exports.useEffect(()=>{if(m){let a=s.phone;a=h(a),l("whatsapp",a)}else l("whatsapp","")},[s.phone,m]);function w(a){return!a}return r(g,{children:[e(x,{title:"Tambah Customer"}),e("div",{className:"shadow p-4",children:e("h2",{className:"font-semibold text-slate-600",children:"TAMBAH CUSTOMER"})}),e("div",{className:"my-5",children:e("form",{onSubmit:b,noValidate:!0,children:r("div",{className:"px-4",children:[r("div",{children:[e(o,{value:"Nama Customer",forInput:"name"}),e(p,{type:"text",name:"name",value:s.name,autoComplete:"name",isFocused:!0,handleChange:n,className:t.name&&"input-error"}),t.name&&e("div",{className:"invalid-feedback",children:t.name})]}),r("div",{className:"mt-2",children:[e(o,{value:"No Handphone",forInput:"phone"}),e(p,{type:"number",name:"phone",value:s.phone,autoComplete:"phone",handleChange:n,className:t.phone&&"input-error"}),t.phone&&e("div",{className:"invalid-feedback",children:t.phone})]}),e("div",{className:"mt-4",children:r("label",{className:"flex items-center",children:[e(H,{name:"waCheck",handleChange:()=>v(w)}),e("span",{className:"ml-3",children:"No Handphone sama dengan Whatsapp ?"})]})}),r("div",{className:"mt-2",children:[e(o,{value:"No WhatsApp",forInput:"whatsapp"}),e(p,{type:"number",name:"whatsapp",value:h(s.whatsapp),autoComplete:"whatsapp",disabled:!!m,handleChange:n,className:t.whatsapp&&"input-error"}),t.whatsapp&&e("div",{className:"invalid-feedback",children:t.whatsapp})]}),r("div",{className:"mt-2",children:[e(o,{value:"Alamat",forInput:"address"}),e(k,{name:"address",value:s.address,handleChange:n})]}),r("div",{className:"mt-5",children:[e(A,{type:"submit",processing:u,className:"btn-success w-full mb-3 shadow-md",children:"TAMBAH"}),e("button",{type:"button",className:"btn btn-warning w-full shadow-md",onClick:()=>d(),children:"RESET"})]})]})})})]})};S.layout=s=>e(y,{errors:s.props.errors,children:s,href:route(route().params.history?route().params.history+".create":"customers"),menu:!1});export{S as default};
