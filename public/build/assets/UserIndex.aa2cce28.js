import{b as g,u as v,j as a,a as e,F as N,d as k}from"./app.886d159e.js";import{j as c,M as _}from"./Main.370a4399.js";import{I as l}from"./Input.2b626d33.js";import{L as d}from"./Label.b1943fb3.js";import{B as x}from"./Button.53ef1b3a.js";const y=()=>{const{auth:r}=g().props,{data:t,setData:m,processing:p,post:u,errors:s,reset:h,clearErrors:w}=v({current_password:"",new_password:"",confirm_password:""}),i=n=>{m({...t,[n.target.name]:n.target.value})},b=n=>{n.preventDefault(),u(route("change_password"),{preserveScroll:!0,preserveState:!0,replace:!0,onSuccess:()=>{f()}})},f=()=>{h(),w()},o=n=>{k.Inertia.delete(route("reset.table",{tablename:n}),{replace:!0})};return a("div",{className:"px-4 py-6",children:[e("div",{className:"avatar flex justify-center",children:e("div",{className:"w-1/2 md:w-1/3 lg:w-1/5 rounded-full border-white border-4 shadow-lg",children:e("img",{src:"/images/assets/profile_default.png",alt:"profile image"})})}),a("div",{className:"text-center mt-5 mb-10",children:[e("p",{className:"text-2xl",children:r.user.name.toUpperCase()}),e("p",{className:"text-xl",children:r.user.email})]}),r.user.user_type==="admin"&&a(N,{children:[a("div",{className:"flex mb-5 btn-group-vertical gap-1",children:[e("a",{href:"#confirm1",className:"btn btn-sm btn-error  shadow",children:"Reset Receipt Table"}),e("a",{href:"#confirm2",className:"btn btn-sm btn-warning shadow",children:"Reset Custmomer Table"})]}),a(c,{title:"Warning...",id:"confirm1",message:"Apakah yakin ingin menghapus tabel receipt?. Seluruh isi dari tabel ini akan terhapus secara permanent dan tidak bisa dikembalikan.",children:[e("a",{href:"#",className:"btn btn-ghost",children:"Batal"}),e("a",{href:"#",className:"btn btn-ghost text-red-600",onClick:()=>o("receipts"),children:"Ya, Lanjutkan!"})]}),a(c,{title:"Warning...",id:"confirm2",message:"Apakah yakin ingin menghapus tabel customer?. Seluruh isi dari tabel ini akan terhapus secara permanent dan tidak bisa dikembalikan.",children:[e("a",{href:"#",className:"btn btn-ghost",children:"Batal"}),e("a",{href:"#",className:"btn btn-ghost text-red-600",onClick:()=>o("customers"),children:"Ya, Lanjutkan!"})]})]}),e("p",{className:"font-semibold",children:"Ganti Password"}),e("div",{className:"divider my-1"}),a("form",{onSubmit:b,children:[a("div",{children:[e(d,{children:"Password Sekarang"}),e(l,{type:"password",name:"current_password",value:t.current_password,handleChange:i,className:s.current_password&&"input-error",isFocused:!0,autoComplete:"new-password"}),e("div",{className:"invalid-feedback",children:s.current_password})]}),a("div",{children:[e(d,{children:"Password Baru"}),e(l,{type:"password",name:"new_password",value:t.new_password,handleChange:i,className:s.new_password&&"input-error",autoComplete:"new-password"}),e("div",{className:"invalid-feedback",children:s.new_password})]}),a("div",{children:[e(d,{children:"Konfirmasi Password Baru"}),e(l,{type:"password",name:"confirm_password",value:t.confirm_password,handleChange:i,className:s.confirm_password&&"input-error",autoComplete:"new-password"}),e("div",{className:"invalid-feedback",children:s.confirm_password})]}),e("div",{className:"mt-5",children:e(x,{type:"submit",className:"w-full",processing:p,children:"UPDATE"})})]})]})};y.layout=r=>e(_,{auth:r.props.auth,children:r,href:route("dashboard"),menu:!1});export{y as default};
