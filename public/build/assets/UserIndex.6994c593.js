import{b as v,u as g,j as a,a as e,F as N,e as k}from"./app.28a4a1c6.js";import{A as _,M as x}from"./Main.02edbf67.js";import{I as d}from"./Input.604dbec0.js";import{L as l}from"./Label.442cc7a3.js";import{B as y}from"./Button.1a55b33f.js";import{M as c}from"./Modal.e55c8f52.js";import"./lodash.f94b4614.js";import"./index.173378b6.js";import"./Helper.dc3cee35.js";const C=()=>{const{auth:r}=v().props,{data:t,setData:m,processing:p,post:u,errors:s,reset:h,clearErrors:b}=g({current_password:"",new_password:"",confirm_password:""}),i=n=>{m({...t,[n.target.name]:n.target.value})},w=n=>{n.preventDefault(),u(route("change_password"),{preserveScroll:!0,preserveState:!0,replace:!0,onSuccess:()=>{f()}})},f=()=>{h(),b()},o=n=>{k.Inertia.delete(route("reset.table",{tablename:n}),{replace:!0})};return a("div",{className:"px-4 py-6",children:[e("div",{className:"avatar flex justify-center",children:e("div",{className:"rounded-full border-white border-4 shadow",children:e(_,{name:r.user.name})})}),a("div",{className:"text-center mt-5 mb-10",children:[e("p",{className:"text-2xl",children:r.user.name.toUpperCase()}),e("p",{className:"text-xl",children:r.user.email})]}),r.user.user_type==="admin"&&a(N,{children:[a("div",{className:"flex mb-5 btn-group-vertical gap-1",children:[e("a",{href:"#confirm1",className:"btn btn-sm btn-error  shadow",children:"Reset Receipt Table"}),e("a",{href:"#confirm2",className:"btn btn-sm btn-warning shadow",children:"Reset Custmomer Table"})]}),a(c,{title:"Warning...",id:"confirm1",message:"Apakah yakin ingin menghapus tabel receipt?. Seluruh isi dari tabel ini akan terhapus secara permanent dan tidak bisa dikembalikan.",children:[e("a",{href:"#",className:"btn btn-ghost",children:"Batal"}),e("a",{href:"#",className:"btn btn-ghost text-red-600",onClick:()=>o("receipts"),children:"Ya, Lanjutkan!"})]}),a(c,{title:"Warning...",id:"confirm2",message:"Apakah yakin ingin menghapus tabel customer?. Seluruh isi dari tabel ini akan terhapus secara permanent dan tidak bisa dikembalikan.",children:[e("a",{href:"#",className:"btn btn-ghost",children:"Batal"}),e("a",{href:"#",className:"btn btn-ghost text-red-600",onClick:()=>o("customers"),children:"Ya, Lanjutkan!"})]})]}),e("p",{className:"font-semibold",children:"Ganti Password"}),e("div",{className:"divider my-1"}),a("form",{onSubmit:w,children:[a("div",{children:[e(l,{children:"Password Sekarang"}),e(d,{type:"password",name:"current_password",value:t.current_password,handleChange:i,className:s.current_password&&"input-error",isFocused:!0,autoComplete:"new-password"}),e("div",{className:"invalid-feedback",children:s.current_password})]}),a("div",{children:[e(l,{children:"Password Baru"}),e(d,{type:"password",name:"new_password",value:t.new_password,handleChange:i,className:s.new_password&&"input-error",autoComplete:"new-password"}),e("div",{className:"invalid-feedback",children:s.new_password})]}),a("div",{children:[e(l,{children:"Konfirmasi Password Baru"}),e(d,{type:"password",name:"confirm_password",value:t.confirm_password,handleChange:i,className:s.confirm_password&&"input-error",autoComplete:"new-password"}),e("div",{className:"invalid-feedback",children:s.confirm_password})]}),e("div",{className:"mt-5",children:e(y,{type:"submit",className:"w-full",processing:p,children:"UPDATE"})})]})]})};C.layout=r=>e(x,{children:r,href:route("dashboard"),menu:!1});export{C as default};
