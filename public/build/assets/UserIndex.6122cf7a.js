import{b as N,u as k,j as a,a as e,F as _,d as c}from"./app.7e5fa4d6.js";import{j as m,M as x}from"./Main.90a3853e.js";import{I as i}from"./Input.3c40d9dd.js";import{L as d}from"./Label.4461e90f.js";import{B as y}from"./Button.c994cb4b.js";import{_ as C}from"./lodash.475ba0b1.js";import"./Alert.efc22e59.js";const S=()=>{const{auth:r}=N().props,{data:t,setData:p,processing:u,post:h,errors:n,reset:w,clearErrors:b}=k({current_password:"",new_password:"",confirm_password:""}),l=s=>{p({...t,[s.target.name]:s.target.value})},f=s=>{s.preventDefault(),h(route("change_password"),{preserveScroll:!0,preserveState:!0,replace:!0,onSuccess:()=>{v()}})},g=s=>{c.Inertia.post(route("setting.store"),{whatsapp_session:s.target.value})},v=()=>{w(),b()},o=s=>{c.Inertia.delete(route("reset.table",{tablename:s}),{replace:!0})};return a("div",{className:"px-4 py-6",children:[e("div",{className:"avatar flex justify-center",children:e("div",{className:"w-1/2 md:w-1/3 lg:w-1/5 rounded-full border-white border-4 shadow-lg",children:e("img",{src:"/images/assets/profile_default.png",alt:"profile image"})})}),a("div",{className:"text-center mt-5 mb-10",children:[e("p",{className:"text-2xl",children:r.user.name.toUpperCase()}),e("p",{className:"text-xl",children:r.user.email})]}),r.user.user_type==="admin"&&a(_,{children:[a("div",{className:"flex mb-5 btn-group-vertical gap-1",children:[e("a",{href:"#confirm1",className:"btn btn-sm btn-error  shadow",children:"Reset Receipt Table"}),e("a",{href:"#confirm2",className:"btn btn-sm btn-warning shadow",children:"Reset Custmomer Table"})]}),a(m,{title:"Warning...",id:"confirm1",message:"Apakah yakin ingin menghapus tabel receipt?. Seluruh isi dari tabel ini akan terhapus secara permanent dan tidak bisa dikembalikan.",children:[e("a",{href:"#",className:"btn btn-ghost",children:"Batal"}),e("a",{href:"#",className:"btn btn-ghost text-red-600",onClick:()=>o("receipts"),children:"Ya, Lanjutkan!"})]}),a(m,{title:"Warning...",id:"confirm2",message:"Apakah yakin ingin menghapus tabel customer?. Seluruh isi dari tabel ini akan terhapus secara permanent dan tidak bisa dikembalikan.",children:[e("a",{href:"#",className:"btn btn-ghost",children:"Batal"}),e("a",{href:"#",className:"btn btn-ghost text-red-600",onClick:()=>o("customers"),children:"Ya, Lanjutkan!"})]})]}),r.user.user_type==="admin"&&a("div",{className:"mb-4",children:[e("p",{className:"font-semibold",children:"WhatsApp Session"}),e("div",{className:"divider my-1"}),e(i,{type:"text",placeHolder:"Masukkan nama session whatsapp",name:"whatsapp_session",handleChange:C.debounce(g,1e3)})]}),e("p",{className:"font-semibold",children:"Ganti Password"}),e("div",{className:"divider my-1"}),a("form",{onSubmit:f,children:[a("div",{children:[e(d,{children:"Password Sekarang"}),e(i,{type:"password",name:"current_password",value:t.current_password,handleChange:l,className:n.current_password&&"input-error",isFocused:!0,autoComplete:"new-password"}),e("div",{className:"invalid-feedback",children:n.current_password})]}),a("div",{children:[e(d,{children:"Password Baru"}),e(i,{type:"password",name:"new_password",value:t.new_password,handleChange:l,className:n.new_password&&"input-error",autoComplete:"new-password"}),e("div",{className:"invalid-feedback",children:n.new_password})]}),a("div",{children:[e(d,{children:"Konfirmasi Password Baru"}),e(i,{type:"password",name:"confirm_password",value:t.confirm_password,handleChange:l,className:n.confirm_password&&"input-error",autoComplete:"new-password"}),e("div",{className:"invalid-feedback",children:n.confirm_password})]}),e("div",{className:"mt-5",children:e(y,{type:"submit",className:"w-full",processing:u,children:"UPDATE"})})]})]})};S.layout=r=>e(x,{auth:r.props.auth,children:r,href:route("dashboard"),menu:!1});export{S as default};
