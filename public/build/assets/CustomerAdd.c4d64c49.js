import{B as w}from"./Button.ea7c34fd.js";import{C as g}from"./Checkbox.02da18b8.js";import{H as x}from"./Header.b6c7321e.js";import{I as p}from"./Input.ab6e4d63.js";import{L as o}from"./Label.6ad59fdd.js";import{T as y}from"./TextArea.3c0a62d9.js";import{p as h}from"./Helper.55d388d8.js";import{M as k}from"./Main.edf44f9b.js";import{u as H,r as c,j as r,F as A,a as e,H as I}from"./app.ff6d3df7.js";import"./whatsapp.f443144b.js";import"./Modal.da3140b2.js";const S=()=>{const{data:s,setData:m,post:i,processing:u,errors:t,reset:f,clearErrors:b}=H({name:"",phone:"",whatsapp:"",address:""}),[l,v]=c.exports.useState(!1),n=a=>{m(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)},N=a=>{a.preventDefault(),i(route("customers.store"),{onSuccess:()=>{d()}})},d=()=>{b(),f()};c.exports.useEffect(()=>{if(l){let a=s.phone;a=h(a),m("whatsapp",a)}else m("whatsapp","")},[s.phone,l]);function C(a){return!a}return r(A,{children:[e(I,{title:"Tambah Customer"}),e(x,{children:"Tambah Customer"}),e("div",{className:"my-5",children:e("form",{onSubmit:N,noValidate:!0,children:r("div",{className:"px-4",children:[r("div",{children:[e(o,{value:"Nama Customer",forInput:"name"}),e(p,{type:"text",name:"name",value:s.name,autoComplete:"name",isFocused:!0,handleChange:n,className:t.name&&"input-error"}),t.name&&e("div",{className:"invalid-feedback",children:t.name})]}),r("div",{className:"mt-2",children:[e(o,{value:"No Handphone",forInput:"phone"}),e(p,{type:"number",name:"phone",value:s.phone,autoComplete:"phone",handleChange:n,className:t.phone&&"input-error"}),t.phone&&e("div",{className:"invalid-feedback",children:t.phone})]}),e("div",{className:"mt-4",children:r("label",{className:"flex items-center",children:[e(g,{name:"waCheck",handleChange:()=>v(C)}),e("span",{className:"ml-3",children:"No Handphone sama dengan Whatsapp ?"})]})}),r("div",{className:"mt-2",children:[e(o,{value:"No WhatsApp",forInput:"whatsapp"}),e(p,{type:"number",name:"whatsapp",value:h(s.whatsapp),autoComplete:"whatsapp",disabled:!!l,handleChange:n,className:t.whatsapp&&"input-error"}),t.whatsapp&&e("div",{className:"invalid-feedback",children:t.whatsapp})]}),r("div",{className:"mt-2",children:[e(o,{value:"Alamat",forInput:"address"}),e(y,{name:"address",value:s.address,handleChange:n})]}),r("div",{className:"mt-5",children:[e(w,{type:"submit",processing:u,className:"btn-success w-full mb-3 shadow-md",children:"TAMBAH"}),e("button",{type:"button",className:"btn btn-warning w-full shadow-md",onClick:()=>d(),children:"RESET"})]})]})})})]})};S.layout=s=>e(k,{errors:s.props.errors,children:s,href:route(route().params.history?route().params.history+".create":"customers"),menu:!1});export{S as default};
