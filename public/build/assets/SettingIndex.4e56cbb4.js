import{a,j as s,b as N,u as x,t as h,r as T,F as P,H as S}from"./app.a66e2839.js";import{B as f}from"./Button.93d644d3.js";import{L as b}from"./Label.46c5441c.js";import{I as k}from"./Input.8658de30.js";import{a as C}from"./index.af53f782.js";import{M as D}from"./Main.4d841119.js";import"./Helper.6afe5d05.js";import"./index.173378b6.js";import"./Modal.e8ef0440.js";const g=({className:e,name:n,onHandleChange:c,checked:l=!1,disabled:d=!1})=>a("input",{disabled:d,type:"checkbox",className:`toggle ${e}`,onChange:i=>c(i),checked:l,name:n}),y=({title:e,children:n})=>s("div",{children:[e,a("span",{className:"text-[0.80rem] block text-slate-500",children:n})]}),K=()=>{const{app_setting:e}=N().props,n=!(e!=null&&e.tripay_private_key)||!(e!=null&&e.tripay_api_key)||!(e!=null&&e.tripay_merchant_code),c=!(e!=null&&e.whatsapp_session_name)||!(e!=null&&e.whatsapp_server),l=!(e!=null&&e.telegram_admin_chat_id)||!(e!=null&&e.telegram_bot_token),{post:d,data:i,setData:u,processing:m}=x({app_debug:(e==null?void 0:e.app_debug)||!1,is_develop:(e==null?void 0:e.is_develop)=="local",pay_online:(e==null?void 0:e.pay_online)||!1,whatsapp_gateway:(e==null?void 0:e.whatsapp_gateway)||!1,telegram_gateway:(e==null?void 0:e.telegram_gateway)||!1,password_reset:(e==null?void 0:e.password_reset)||!1}),t=o=>{u(o.target.name,o.target.checked)},v=o=>{o.key==="Enter"&&w(o)},w=o=>{o.preventDefault(),o.stopPropagation(),d(route("admin.setting.store"),{onSuccess:()=>{h.success("Pengaturan berhasil disimpan!")}})};return s("form",{className:"my-6 space-y-5 ",onSubmit:w,onKeyDown:v,children:[s("div",{className:"flex gap-3 justify-between items-center",children:[a(y,{title:"App Debug",children:"Jika diaktifkan semua error akan ditampilkan pada browser."}),a(g,{onHandleChange:t,name:"app_debug",checked:i.app_debug})]}),s("div",{className:"flex gap-3 justify-between items-center",children:[a(y,{title:"Mode Pengembang",children:"Aktifkan opsi ini jika aplikasi masih tahap pengembangan."}),a(g,{onHandleChange:t,name:"is_develop",checked:i.is_develop})]}),s("div",{className:"flex gap-3 justify-between items-center",children:[a(y,{title:"Notifikasi Whatsapp",children:"Aktifkan notifikasi menggunakan whatsapp. Sebelum mengaktifkan fitur ini lengkapi pengaturan Whatsapp."}),a(g,{disabled:c,onHandleChange:t,name:"whatsapp_gateway",checked:i.whatsapp_gateway})]}),s("div",{className:"flex gap-3 justify-between items-center",children:[a(y,{title:"Notifikasi Telegram",children:"Aktifkan notifikasi / bot menggunakan telegram. Sebelum mengaktifkan fitur ini lengkapi pengaturan Telegram."}),a(g,{disabled:l,onHandleChange:t,name:"telegram_gateway",checked:i.telegram_gateway})]}),s("div",{className:"flex gap-3 justify-between items-center",children:[a(y,{title:"Pembayaran online",children:"Aktifkan jika ingin menerima pembayaran dari online, Misal Transfer Bank / QRIS. Sebelum mengaktifkan fitur ini lengkapi pengaturan Pembayaran."}),a(g,{disabled:n,onHandleChange:t,name:"pay_online",checked:i.pay_online})]}),s("div",{className:"flex gap-3 justify-between items-center",children:[a(y,{title:"Reset Kata Sandi",children:"Aktifkan fitur reset kata sandi. Fitur ini dapat berjalan jika fitur kirim email sudah aktif."}),a(g,{onHandleChange:t,name:"password_reset",checked:i.password_reset})]}),a("div",{className:"pt-5 md:float-right",children:a(f,{type:"submit",className:"btn-block md:btn-md",processing:m,children:"Simpan"})})]})},j=()=>{const{app_setting:e}=N().props,{data:n,setData:c,post:l,processing:d}=x({tripay_merchant_code:(e==null?void 0:e.tripay_merchant_code)||"",tripay_api_key:(e==null?void 0:e.tripay_api_key)||"",tripay_private_key:(e==null?void 0:e.tripay_private_key)||""}),i=t=>{c(t.target.name,t.target.value)},u=t=>{t.key==="Enter"&&m(t)},m=t=>{t.preventDefault(),t.stopPropagation(),l(route("admin.setting.store"),{onSuccess:()=>{h.success("Pengaturan berhasil disimpan!")}})};return a("form",{className:"my-6",onSubmit:m,onKeyDown:u,children:s("div",{className:"space-y-4",children:[s("div",{children:[a(b,{children:"Tripay Merchant Code"}),a(k,{name:"tripay_merchant_code",value:n.tripay_merchant_code,className:"text-sm",handleChange:i,required:!0,placeHolder:"Masukkan kode merchant tripay"})]}),s("div",{children:[a(b,{children:"Tripay Api Key"}),a(k,{required:!0,name:"tripay_api_key",value:n.tripay_api_key,handleChange:i,className:"text-sm",placeHolder:"Masukkan Kunci Api Tripay"})]}),s("div",{children:[a(b,{children:"Tripay Private Key"}),a(k,{required:!0,name:"tripay_private_key",value:n.tripay_private_key,handleChange:i,className:"text-sm",placeHolder:"Masukkan Kunci private Tripay"})]}),a("div",{className:"pt-5 md:float-right",children:a(f,{type:"submit",className:"btn-block md:btn-md",processing:d,children:"Simpan"})})]})})},A=()=>{const{app_setting:e}=N().props,{data:n,setData:c,post:l,processing:d}=x({telegram_bot_token:(e==null?void 0:e.telegram_bot_token)||"",telegram_admin_chat_id:(e==null?void 0:e.telegram_admin_chat_id)||""}),i=t=>{c(t.target.name,t.target.value)},u=t=>{t.key==="Enter"&&m(t)},m=t=>{t.preventDefault(),t.stopPropagation(),l(route("admin.setting.store"),{onSuccess:()=>{h.success("Pengaturan berhasil disimpan!")}})};return a("form",{className:"my-6",onSubmit:m,onKeyDown:u,children:s("div",{className:"space-y-4",children:[s("div",{children:[a(b,{children:"Telegram Token"}),a(k,{name:"telegram_bot_token",value:n.telegram_bot_token,className:"text-sm",handleChange:i,required:!0,placeHolder:"Masukkan token bot telegram"})]}),s("div",{children:[a(b,{children:"Telegram Admin Chat ID"}),a(k,{required:!0,name:"telegram_admin_chat_id",value:n.telegram_admin_chat_id,handleChange:i,className:"text-sm",placeHolder:"Masukkan chat id admin"})]}),a("div",{className:"pt-5 md:float-right",children:a(f,{type:"submit",className:"btn-block md:btn-md",processing:d,children:"Simpan"})})]})})},H=()=>{const{app_setting:e}=N().props,[n,c]=T.exports.useState(!1),{data:l,setData:d,post:i,processing:u}=x({whatsapp_session_name:(e==null?void 0:e.whatsapp_session_name)||"",whatsapp_server:(e==null?void 0:e.whatsapp_server)||""}),m=r=>{d(r.target.name,r.target.value)},t=r=>{r.key==="Enter"&&v(r)},v=r=>{r.preventDefault(),r.stopPropagation(),i(route("admin.setting.store"),{onSuccess:()=>{h.success("Pengaturan berhasil disimpan!")}})},w=async()=>{var r,_;c(!0);try{const{data:p}=await C.post("https://wa.tandaterima.online/send-message",{text:"PING https://tandaterima.online/images/ttb/ttb_2006202328-117.png",to:"6282174416077",session:"ettb"});h.success("Pesan terkirim...")}catch(p){h.error((_=(r=p==null?void 0:p.response)==null?void 0:r.data)==null?void 0:_.message)}c(!1)},o=async()=>{var r,_;c(!0);try{const{data:p}=await C.post("https://wa.tandaterima.online/send-media",{media:"https://tandaterima.online/images/ttb/ttb_2006202328-117.png",to:"6282174416077",text:"tes"},{headers:{accept:"application/json",session:"ettb"}});h.success("Pesan terkirim...")}catch(p){h.error((_=(r=p==null?void 0:p.response)==null?void 0:r.data)==null?void 0:_.message)}c(!1)};return a("form",{className:"my-6",onSubmit:v,onKeyDown:t,children:s("div",{className:"space-y-4",children:[s("div",{children:[a(b,{children:"Whatsapp Session Name"}),a(k,{name:"whatsapp_session_name",value:l.whatsapp_session_name,className:"text-sm",handleChange:m,required:!0,placeHolder:"Masukkan nama session whatsapp"}),l.whatsapp_server&&s("p",{className:"text-sm mt-1 text-slate-400",children:["Buat nama session baru."," ",a("a",{href:`${l.whatsapp_server}/start-session?session=${l.whatsapp_session_name}&scan=true`,className:"font-semibold",target:"_blank",children:"Klik Disini"})]})]}),s("div",{children:[a(b,{children:"Whastapp Server"}),a(k,{required:!0,name:"whatsapp_server",value:l.whatsapp_server,handleChange:m,className:"text-sm",placeHolder:"Masukkan alamat server whatsapp"})]}),a("div",{className:"pt-5 ",children:s("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a(f,{processing:n,className:"btn-accent btn-block",handleClick:o,type:"button",children:"Tes Kirim Gambar"}),a(f,{processing:n,className:"btn-warning btn-block",handleClick:w,type:"button",children:"Tes Kirim Pesan"}),a(f,{type:"submit",className:"btn-block",processing:u,children:"Simpan"})]})})]})})},M=()=>{const[e,n]=T.exports.useState("general");return s(P,{children:[a(S,{title:"Pengaturan"}),a("div",{className:"shadow p-4",children:a("h2",{className:"font-semibold text-slate-600",children:"PENGATURAN"})}),s("div",{className:"tabs mt-3 ",children:[a("a",{onClick:()=>n("general"),className:`tab tab-lifted ${e==="general"?"tab-active":""}`,children:"Umum"}),a("a",{onClick:()=>n("payment"),className:`tab tab-lifted ${e==="payment"?"tab-active":""}`,children:"Pembayaran"}),a("a",{onClick:()=>n("whatsapp"),className:`tab tab-lifted ${e==="whatsapp"?"tab-active":""}`,children:"Whatsapp"}),a("a",{onClick:()=>n("telegram"),className:`tab tab-lifted ${e==="telegram"?"tab-active":""}`,children:"Telegram"})]}),s("div",{className:"px-6 ",children:[e==="general"&&a(K,{}),e==="payment"&&a(j,{}),e==="whatsapp"&&a(H,{}),e==="telegram"&&a(A,{})]})]})};M.layout=e=>a(D,{children:e});export{M as default};
