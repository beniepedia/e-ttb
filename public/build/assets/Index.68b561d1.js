import{P as o,A as b,M as y}from"./Main.8a6b3b26.js";import{r as c,j as u,a as t,F as f,L as w,b as k,d as N,H as P}from"./app.0ceb6510.js";import{E as j,u as z,p as m,I as O,B as M}from"./index.es.f199c96c.js";import{a as I}from"./index.fefb1b11.js";import{I as L}from"./Input.00159a12.js";import"./axios.cd6af229.js";var S=["color","size","title"];function H(e,a){if(e==null)return{};var s=B(e,a),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(s[n]=e[n]))}return s}function B(e,a){if(e==null)return{};var s={},n=Object.keys(e),r,l;for(l=0;l<n.length;l++)r=n[l],!(a.indexOf(r)>=0)&&(s[r]=e[r]);return s}var h=c.exports.forwardRef(function(e,a){var s=e.color,n=e.size,r=e.title,l=H(e,S);return u("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:s,...l,children:[r?t("title",{children:r}):null,t("path",{d:"M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),t("path",{fillRule:"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})]})});h.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string};h.defaultProps={color:"currentColor",size:"1em",title:null};var C=h;function F({customers:e}){return t(f,{children:e.length?e.map((a,s)=>u("div",{className:"flex items-center justify-between py-2 border-t border-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 px-5",children:[u("div",{className:"flex items-center",children:[t(b,{name:a.name,size:"50",className:"rounded-full"}),u("div",{className:"ml-4 pb-1",children:[t("h2",{className:"text-lg",children:a.name}),t("p",{className:"text-xs",children:a.phone})]})]}),t("div",{className:"flex-none",children:t(w,{href:route("customer.show",a.id),className:"btn btn-circle btn-ghost",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-5 h-5 stroke-current",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})})})]},s)):t(j,{})})}const E=()=>{const{customers:e,filters:a}=k().props,[s,n]=c.exports.useState({search:a.search||""}),[r,l]=c.exports.useState(e.data),[d,p]=c.exports.useState(e.links.next),g=z(s);c.exports.useEffect(async()=>{if(g){const i=Object.keys(m(s)).length?m(s):"";N.Inertia.get(route(route().current()),i,{preserveState:!0,replace:!0,onSuccess:()=>{l(e.data),p(e.links.next)}})}},[s]);function v(i){n({[i.target.name]:i.target.value})}async function x(){if(d){const{data:i}=await I.get(d);l([...r,...i.data]),p(i.links.next)}}return u(f,{children:[t(P,{title:"Customers"}),t("div",{className:"px-4 py-4 mb-4 ",children:t(L,{type:"search",name:"search",value:s.search,handleChange:v,placeHolder:"Cari....",className:"input-bordered"})}),t(O,{dataLength:r.length,next:x,hasMore:!!d,loader:t("div",{className:"flex justify-center",children:t("img",{src:"/images/assets/loading.svg",width:"80"})}),children:t(F,{customers:r})}),t(M,{href:route("customers.create"),className:"dark:bg-blue-800 border-none shadow-xl bg-blue-600 hover:bg-blue-800",icon:t(C,{className:"text-xl"})})]})};E.layout=e=>t(y,{auth:e.props.auth,errors:e.props.errors,children:e});export{E as default};
