import{B as k}from"./Button.21b9be17.js";import{I as y}from"./Input.11667998.js";import{r as o,j as r,a as e,F as p,H as x}from"./app.b2060d12.js";import{f as v}from"./index.dbcb883f.js";import{i as w}from"./index.7f05af33.js";import{G as N}from"./Guest.669cca4a.js";import{a as T}from"./index.fefb1b11.js";import{P as d,A as j,t as u}from"./Alert.34a30928.js";import{W as S}from"./whatsapp.9ab3ec02.js";import"./axios.cd6af229.js";var O=["color","size","title"];function E(a,t){if(a==null)return{};var n=M(a,t),l,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(i=0;i<s.length;i++)l=s[i],!(t.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,l)||(n[l]=a[l]))}return n}function M(a,t){if(a==null)return{};var n={},l=Object.keys(a),i,s;for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&(n[i]=a[i]);return n}var f=o.exports.forwardRef(function(a,t){var n=a.color,l=a.size,i=a.title,s=E(a,O);return r("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:n,...s,children:[i?e("title",{children:i}):null,e("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})]})});f.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string};f.defaultProps={color:"currentColor",size:"1em",title:null};var C=f;const P=({...a})=>{const t=a;console.log(t);const n=t.image.substring(t.image.lastIndexOf("/")+1,t.image.lastIndexOf("."));return r(p,{children:[e("div",{className:"overflow-x-auto",children:e("table",{className:"table table-compact w-full ",children:r("tbody",{children:[r("tr",{children:[e("th",{children:"No. Register"}),e("th",{children:":"}),e("td",{children:t.receipt_code})]}),r("tr",{children:[e("th",{children:"No. Kartu"}),e("th",{children:":"}),e("td",{children:t.receipt_number})]}),r("tr",{children:[e("th",{children:"Customer"}),e("th",{children:":"}),e("td",{children:t.customer.name})]}),r("tr",{children:[e("th",{children:"Tgl Masuk"}),e("th",{children:":"}),e("td",{children:v(new Date(t.delivery_date),"EEEE, dd MMMM yyyy",{locale:w})})]}),r("tr",{children:[e("th",{children:"Jam"}),e("th",{children:":"}),e("td",{children:v(new Date(t.delivery_date),"HH:mm")})]}),r("tr",{children:[e("th",{children:"Jenis & Type"}),e("th",{children:":"}),r("td",{className:"capitalize",children:[t.category," - ",t.barang]})]}),r("tr",{children:[e("th",{children:"Kerusakan"}),e("th",{children:":"}),e("td",{children:t.kerusakan})]}),r("tr",{children:[e("th",{children:"Kelengkapan"}),e("th",{children:":"}),e("td",{children:t.kelengkapan?t.kelengkapan.join(" | "):"-"})]}),r("tr",{children:[e("th",{children:"Status"}),e("th",{children:":"}),e("td",{children:t.status})]})]})})}),e("div",{className:`mt-3 ${n=="no_image"?"hidden":"block"}`,children:e("img",{src:`/${t.image}`,className:"rounded-md",alt:"..."})})]})},z=({length:a=1})=>{const t=Array.from({length:a},(n,l)=>l+1);return r(p,{children:[e("table",{className:"table table-compact w-full",children:e("tbody",{children:t.map(n=>r("tr",{className:"flex flex-row justify-center",children:[e("td",{children:e("div",{className:"h-4 w-28 md:w-40 bg-slate-400/70 rounded-lg animate-pulse"})}),e("td",{children:":"}),e("td",{children:e("div",{className:"h-4 w-28 md:w-40 bg-slate-400/70 rounded-lg animate-pulse"})})]},n))})}),e("div",{className:" my-3 p-2 animate-pulse",children:e("div",{className:"h-48 w-full rounded-lg  bg-slate-300"})})]})},F=()=>{const[a,t]=o.exports.useState(!1),[n,l]=o.exports.useState(null),[i,s]=o.exports.useState(""),[m,g]=o.exports.useState("");return r(p,{children:[e(j,{}),e(x,{children:e("title",{children:"Cek Status Tanda Terima"})}),e(N,{children:r("div",{className:"text-slate-700 mb-10",children:[e("h1",{className:"font-semibold text-center text-xl uppercase mb-10",children:"Cek status tanda terima"}),r("div",{className:"my-3",children:[e(y,{name:"kode",value:m,handleChange:h=>g(h.target.value),placeHolder:"Masukkan nomor register"}),e("div",{className:"text-sm text-red-500 mt-1 italic",children:i}),e(k,{processing:a,className:"mt-3 w-full  btn-accent",handleClick:async()=>{var h,b;if(s(""),!m){s("Masukkan nomor register tanda terima anda.");return}l(null),t(!0);try{const{data:c}=await T.post(route("client.status.process",{receipt_code:m}),{},{headers:{location:window.localStorage.getItem("location")||null}});l(c)}catch(c){l(null),((h=c==null?void 0:c.response)==null?void 0:h.status)==429?u.error("Error : Terlalu Banyak Permintaan. Silakan coba lagi nanti."):((b=c==null?void 0:c.response)==null?void 0:b.status)==404?u.error("Tanda terima tidak ditemukan!"):u.error("Error : Permintaan tidak dapat dipenuhi. Silahkan coba beberapa saat lagi.")}finally{t(!1),g("")}},loading:a,children:"cek Tanda Terima"}),r("div",{className:`${!a&&!n?"hidden":"block"} my-7`,children:[e("div",{className:"divider mb-7 font-semibold",children:"DETAIL TANDA TERIMA"}),r("div",{className:"",children:[a&&e(z,{length:9}),n&&e(P,{...n})]}),e("div",{className:"divider font-semibold",children:"Hubungi Kami"}),r("div",{className:"flex gap-5 justify-center my-7",children:[e("div",{className:"w-14 h-14 rounded-full bg-stone-500 flex justify-center items-center shadow",children:e("a",{href:"tel:08116407788",children:e(C,{className:"  text-white text-2xl cursor-pointer "})})}),e("div",{className:"w-14 h-14 rounded-full bg-green-600 flex justify-center items-center shadow",children:e("a",{href:"https://wa.me/628116407788",target:"_blank",children:e(S,{className:"  text-white  text-2xl  cursor-pointer"})})})]})]})]})]})})]})};export{F as default};
