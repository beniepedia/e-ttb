import{P as i,A as w,W as O,M as P}from"./Main.d854e902.js";import{r as p,j as c,a,F as x,L as j,b as k,d as z,H as N}from"./app.6627afe2.js";import{E as I,u as F,p as m,I as L,B as S}from"./index.es.89ae798b.js";import{I as C}from"./info-circle-fill.1b374aa3.js";import{a as H}from"./index.5220e4e6.js";import{I as T}from"./Input.e56004de.js";import"./axios.40b98a77.js";var M=["color","size","title"];function W(e,l){if(e==null)return{};var s=B(e,l),r,t;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],!(l.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(s[r]=e[r]))}return s}function B(e,l){if(e==null)return{};var s={},r=Object.keys(e),t,n;for(n=0;n<r.length;n++)t=r[n],!(l.indexOf(t)>=0)&&(s[t]=e[t]);return s}var h=p.exports.forwardRef(function(e,l){var s=e.color,r=e.size,t=e.title,n=W(e,M);return c("svg",{ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:s,...n,children:[t?a("title",{children:t}):null,a("path",{d:"M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),a("path",{fillRule:"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})]})});h.propTypes={color:i.string,size:i.oneOfType([i.string,i.number]),title:i.string};h.defaultProps={color:"currentColor",size:"1em",title:null};var E=h,$=["color","size","title"];function R(e,l){if(e==null)return{};var s=V(e,l),r,t;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],!(l.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(s[r]=e[r]))}return s}function V(e,l){if(e==null)return{};var s={},r=Object.keys(e),t,n;for(n=0;n<r.length;n++)t=r[n],!(l.indexOf(t)>=0)&&(s[t]=e[t]);return s}var d=p.exports.forwardRef(function(e,l){var s=e.color,r=e.size,t=e.title,n=R(e,$);return c("svg",{ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:s,...n,children:[t?a("title",{children:t}):null,a("path",{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zm10.761.135a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L14.293 4H9.5a.5.5 0 0 1 0-1h4.793l-1.647-1.646a.5.5 0 0 1 0-.708z"})]})});d.propTypes={color:i.string,size:i.oneOfType([i.string,i.number]),title:i.string};d.defaultProps={color:"currentColor",size:"1em",title:null};var A=d;function g({href:e,target:l="_blank",children:s,className:r}){return a("a",{href:e,target:l,className:r,children:s})}function _({customers:e}){return a(x,{children:e.length?e.map((l,s)=>c("div",{className:"flex items-center justify-between py-2 border-t border-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 lg:mx-64",children:[c("div",{className:"flex items-center mx-5",children:[a(w,{name:l.name,size:"50",className:"rounded-full"}),c("div",{className:"ml-4 pb-1",children:[a("h2",{className:"text-lg",children:l.name}),a("p",{className:"text-xs",children:l.phone})]})]}),c("div",{className:"mr-4 flex gap-3",children:[a(g,{href:"tel:"+l.phone,children:a(A,{className:"text-2xl text-slate-600"})}),l.whatsapp&&a(g,{href:"https://wa.me/"+l.whatsapp,children:a(O,{className:"text-2xl text-green-600"})}),a(j,{href:route("customer.show",l.id),children:a(C,{className:"text-2xl text-sky-600"})})]})]},s)):a(I,{})})}const q=()=>{const{customers:e,filters:l}=k().props,[s,r]=p.exports.useState({search:l.search||""}),[t,n]=p.exports.useState(e.data),[u,f]=p.exports.useState(e.links.next),v=F(s);p.exports.useEffect(async()=>{if(v){const o=Object.keys(m(s)).length?m(s):"";z.Inertia.get(route(route().current()),o,{preserveState:!0,replace:!0,onSuccess:()=>{n(e.data),f(e.links.next)}})}},[s]);function b(o){r({[o.target.name]:o.target.value})}async function y(){if(u){const{data:o}=await H.get(u);n([...t,...o.data]),f(o.links.next)}}return c(x,{children:[a(N,{title:"Customers"}),a("div",{className:"px-4 py-4 mb-4 lg:mx-64",children:a(T,{type:"search",name:"search",value:s.search,handleChange:b,placeHolder:"Cari....",className:"input-bordered"})}),a(L,{dataLength:t.length,next:y,hasMore:!!u,loader:a("div",{className:"flex justify-center",children:a("img",{src:"/images/assets/loading.svg",width:"80"})}),children:a(_,{customers:t})}),a(S,{href:route("customers.create"),className:"dark:bg-blue-800 border-none shadow-xl bg-blue-600 hover:bg-blue-800",icon:a(E,{className:"text-xl"})})]})};q.layout=e=>a(P,{auth:e.props.auth,errors:e.props.errors,children:e});export{q as default};
