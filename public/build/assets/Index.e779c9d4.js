import{u as x,p as d,I as b,B as v}from"./usePrevious.e2b679e8.js";import{a as e,F as h,j as o,L as N,b as y,r as n,e as k,H as w}from"./app.28a4a1c6.js";import{A as j,P as I,M}from"./Main.02edbf67.js";import{E as L}from"./Empty.0610969e.js";import{I as P}from"./Input.604dbec0.js";import{a as S}from"./index.477d3f20.js";import"./_baseAssignValue.607308cf.js";import"./index.173378b6.js";import"./Modal.e55c8f52.js";import"./Helper.dc3cee35.js";function z({customers:s}){return e(h,{children:s.length?s.map((a,t)=>o("div",{className:"flex items-center justify-between py-2 border-t border-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 px-5",children:[o("div",{className:"flex items-center",children:[e(j,{name:a.name,size:"50",className:"rounded-full"}),o("div",{className:"ml-4 pb-1",children:[e("h2",{className:"text-lg",children:a.name}),e("p",{className:"text-xs",children:a.phone})]})]}),e("div",{className:"flex-none",children:e(N,{href:route("customer.show",a.id),className:"btn btn-circle btn-ghost",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-5 h-5 stroke-current",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})})})]},t)):e(L,{})})}const B=()=>{const{customers:s,filters:a}=y().props;console.log(s);const[t,u]=n.exports.useState({search:a.search||""}),p=x(t),[l,c]=n.exports.useState(""),[i,m]=n.exports.useState([]);n.exports.useEffect(()=>{m(s.data),c(s.links.next)},[s]),n.exports.useEffect(()=>{if(p){const r=Object.keys(d(t)).length?d(t):"";k.Inertia.get(route(route().current()),r,{preserveState:!0,replace:!0})}},[t]);function f(r){u({[r.target.name]:r.target.value})}async function g(){if(l){const{data:r}=await S.get(l);m([...i,...r.data]),c(r.links.next)}}return o(h,{children:[e(w,{title:"Customers"}),e("div",{className:"px-4 py-4 mb-4 ",children:e(P,{type:"search",name:"search",value:t.search,handleChange:f,placeHolder:"Cari....",className:""})}),e(b,{dataLength:i.length,next:g,hasMore:!!l,loader:e("div",{className:"flex justify-center",children:e("img",{src:"/images/assets/loading.svg",width:"80"})}),children:e(z,{customers:i})}),e(v,{href:route("customers.create"),className:"dark:bg-blue-800 border-none shadow-xl bg-blue-600 hover:bg-blue-800",icon:e(I,{className:"text-xl"})})]})};B.layout=s=>e(M,{errors:s.props.errors,children:s});export{B as default};
